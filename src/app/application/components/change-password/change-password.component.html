<form class="mt-4" [formGroup]="Form" (ngSubmit)="onSubmit()">
  <div>
    <label class="form-label" for="old_password">old password</label>
    <input
      [ngClass]="{
        'is-invalid': fieldHasAnyError('old_password'),
        'form-control': true
      }"
      type="password"
      id="old_password"
      formControlName="old_password"
    />

    <div
      *ngIf="fieldHasError('old_password', 'required')"
      class="invalid-feedback"
    >
      this field is required
    </div>
    <div
      *ngIf="fieldHasError('old_password', 'serverError')"
      class="invalid-feedback"
    >
      {{ getFieldServerErrorMessage("old_password") }}
    </div>
  </div>
  <div>
    <label class="form-label" for="new_password">new password</label>
    <input
      [ngClass]="{
        'is-invalid': fieldHasAnyError('new_password'),
        'form-control': true
      }"
      type="password"
      id="new_password"
      formControlName="new_password"
    />
    <div
      *ngIf="fieldHasError('new_password', 'required')"
      class="invalid-feedback"
    >
      this field is required
    </div>
    <div
      *ngIf="fieldHasError('new_password', 'serverError')"
      class="invalid-feedback"
    >
      {{ getFieldServerErrorMessage("new_password") }}
    </div>
  </div>
  <div>
    <label class="form-label" for="confirm_new_password">
      confirm new password
    </label>
    <input
      [ngClass]="{
        'is-invalid':
          fieldHasAnyError('confirm_new_password') ||
          Form.hasError('passwordMismatch'),
        'form-control': true
      }"
      type="password"
      id="confirm_new_password"
      formControlName="confirm_new_password"
    />
    <div
      *ngIf="fieldHasError('confirm_new_password', 'required')"
      class="invalid-feedback"
    >
      this field is required
    </div>
    <div *ngIf="Form.hasError('passwordMismatch')" class="invalid-feedback">
      Passwords do not match
    </div>
  </div>
  <button
    [disabled]="isSubmitting || Form.invalid"
    class="mt-3 btn btn-primary"
  >
    change Password
  </button>
</form>
