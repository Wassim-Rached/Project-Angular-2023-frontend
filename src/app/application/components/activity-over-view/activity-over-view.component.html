<div class="container">
  <div *ngIf="!activity">activity not found !</div>
</div>

<div class="container p-4" *ngIf="activity">
  <div class="row justify-content-between">
    <div class="col-8 shadow-lg p-4">
      <div>
        <img [src]="activity.photo_url" width="100%" alt="" />
        <h1>{{ activity.title }}</h1>
      </div>
      <div class="d-flex">
        <p><strong>Categories:</strong></p>
        <div
          class="badge bg-info m-1"
          *ngFor="let category of activity.categories"
        >
          {{ category.name }}
        </div>
        <div>
          <button
            (click)="onLike()"
            mat-button
            [disabled]="!isAuthenticated || didLike"
          >
            LIKE
            <mat-icon [ngClass]="{ 'been-liked': didLike }">favorite</mat-icon>
          </button>
          <span class="ms-auto badge bg-danger"
            >{{ activity.number_of_likes }} Likes</span
          >
        </div>
      </div>
      <div>
        <p><strong>Description:</strong></p>
        <p>{{ activity.description }}</p>
      </div>
      <div>
        <button
          class="btn btn-success btn-lg"
          (click)="onRegister(activity.id!)"
        >
          Register now
        </button>
      </div>
    </div>
    <div class="col-3 shadow p-0 m-0">
      <div
        class="bg-success text-white p-3 d-flex align-items-center justify-content-center"
      >
        <span class="fs-5">REGISTRATIONS</span>
      </div>
      <ul class="mt-3">
        <li
          class="d-flex align-items-center gap-2 text-success"
          *ngFor="let account of activity.registred_accounts"
        >
          <span
            [routerLink]="['profile', account.id]"
            class="profile-img-container"
            ><img [src]="account.photo_url" [alt]="account.user?.username"
          /></span>
          <span>
            {{ account.user?.username }}
          </span>
        </li>
      </ul>
    </div>
  </div>
</div>
